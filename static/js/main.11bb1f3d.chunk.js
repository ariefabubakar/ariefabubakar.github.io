(window["webpackJsonpvehicle-counter"]=window["webpackJsonpvehicle-counter"]||[]).push([[0],{16:function(e,t,n){e.exports=n(38)},21:function(e,t,n){},31:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},32:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),o=n(9),s=n.n(o),c=(n(21),n(10)),r=n(11),l=n(14),d=n(12),u=n(15),p=n(5),h=n.n(p),m=(n(31),n(32),{apiKey:"GuVCXUOwHk7UK5vTjTwDqZUnACnmkbYVDeExSk0L",authDomain:"itms-32aad.firebaseapp.com",databaseURL:"https://itms-32aad.firebaseio.com"}),v=(n(33),n(35),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){console.log(n.state),n.setState({positionId:e.target.value})},n.writeUserData=function(){h.a.database().ref("/").set(n.state.db),console.log("DATA SAVED")},n.getUserData=function(){h.a.database().ref("/").on("value",function(e){var t=e.val();n.setState({db:t})})},n.decreaseCount=function(e){},n.increaseCount=function(e){var t=e.vehicleTypeId,a=n.state.positionId,i=(new Date).toString(),o=n.state.db,s=o.vehicles,c=o.positions,r=o.vehicleTypes;console.log(s.length),s.push({vehicleTypeId:t,positionId:a,createdDateTime:i});var l=c.findIndex(function(e){return e.positionId==n.state.positionId}),d=c[l].vehicleCounts,u=d.findIndex(function(e){return e.vehicleTypeId==t});d[u].counts++,n.setState({db:{positions:c,vehicleTypes:r,vehicles:s}})},h.a.initializeApp(m),n.state={positionId:0,db:{positions:[],vehicleTypes:[],vehicles:[]}},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"componentDidUpdate",value:function(e,t){t!==this.state.db&&this.writeUserData()}},{key:"getVehicleType",value:function(e){return this.state.db.vehicleTypes.filter(function(t){return t.vehicleTypeId===e})[0].vehicleType}},{key:"render",value:function(){var e=this,t=this.state.db.positions;if(0==t.length)return"";0==this.state.positionId&&this.setState({positionId:t[0].positionId});var n=t.findIndex(function(t){return t.positionId==e.state.positionId}),a=[];return console.log(n),0!=this.state.positionId&&(a=t[n].vehicleCounts),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row py-3"},i.a.createElement("div",{className:"col text-right"},"Position:"),i.a.createElement("div",{className:"col"},i.a.createElement("select",{onChange:this.handleChange},t.map(function(e){return i.a.createElement("option",{value:e.positionId},e.positionId)})))),a.map(function(t){return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("div",{key:t.vehicleTypeId,className:"card"},i.a.createElement("div",{className:"card-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col text-left"},i.a.createElement("div",null,e.getVehicleType(t.vehicleTypeId)," (",t.counts,")")),i.a.createElement("div",{className:"col-md-auto text-right"},i.a.createElement("button",{onClick:function(){return e.increaseCount(t)},className:"btn btn-primary"},"+")))))))})))}}]),t}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(37);s.a.render(i.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.11bb1f3d.chunk.js.map